<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Top News Stories</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  />
</head>
<body class="bg-light">
  <div class="container py-5">
    <h1 class="mb-4">Top News Stories</h1>

    <!-- Search form -->
    <form method="POST" class="card p-3 mb-4 shadow-sm">
      <div class="mb-3">
        <label for="query" class="form-label">Search topic or keyword</label>
        <input
          type="text"
          id="query"
          name="query"
          class="form-control"
          placeholder="e.g., AI, Miami, climate, NBA"
          value="{{ query or '' }}"
          required
        />
      </div>
      <button type="submit" class="btn btn-primary">Get Top Stories</button>
    </form>

    <!-- Results section -->
    {% if query %}
      <h2 class="mb-3">Results for: "{{ query }}"</h2>
    {% endif %}

    {% if articles %}
      <div class="list-group">
        {% for article in articles %}
          <a
            href="{{ article.url }}"
            target="_blank"
            class="list-group-item list-group-item-action mb-2"
          >
            <h5 class="mb-1">{{ article.title }}</h5>
            {% if article.source and article.source.name %}
              <small class="text-muted">
                {{ article.source.name }}
              </small>
            {% endif %}
            <p class="mb-1 mt-2">
              {{ article.description or "No description available." }}
            </p>
          </a>
        {% endfor %}
      </div>
    {% elif query %}
      <div class="alert alert-warning">
        No articles found. Try a different keyword.
      </div>
    {% endif %}
  </div>
</body>
</html>>